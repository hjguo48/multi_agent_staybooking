{
  "version": 2,
  "default": "module",
  "profiles": {
    "layer": {
      "description": "Layer-level decomposition: generate complete backend and frontend layers in one pass.",
      "decomposition_unit": "layer",
      "topology": "sequential",
      "work_items": [
        "full_stack_delivery"
      ],
      "prelude_roles": [
        "pm",
        "architect"
      ],
      "per_item_roles": [
        "backend_dev",
        "frontend_dev"
      ],
      "final_roles": [
        "qa",
        "devops"
      ],
      "expected_state_fields": [
        "requirements",
        "architecture",
        "backend_code",
        "frontend_code",
        "qa_report",
        "deployment"
      ],
      "forbidden_state_fields": [],
      "expected_artifact_versions": {
        "requirements": 1,
        "architecture": 1,
        "backend_code": 1,
        "frontend_code": 1,
        "qa_report": 1,
        "deployment": 1
      }
    },
    "module": {
      "description": "Module-level decomposition: implement authentication, listing, search, and booking modules incrementally.",
      "decomposition_unit": "module",
      "topology": "sequential",
      "work_items": [
        "authentication",
        "listing_mgmt",
        "search",
        "booking"
      ],
      "prelude_roles": [
        "pm",
        "architect"
      ],
      "per_item_roles": [
        "backend_dev",
        "frontend_dev",
        "qa"
      ],
      "final_roles": [
        "devops"
      ],
      "expected_state_fields": [
        "requirements",
        "architecture",
        "backend_code",
        "frontend_code",
        "qa_report",
        "deployment"
      ],
      "forbidden_state_fields": [],
      "expected_artifact_versions": {
        "requirements": 1,
        "architecture": 1,
        "backend_code": 4,
        "frontend_code": 4,
        "qa_report": 4,
        "deployment": 1
      }
    },
    "feature": {
      "description": "Feature-level decomposition: complete vertical slices per feature before moving to the next one.",
      "decomposition_unit": "feature",
      "topology": "sequential",
      "work_items": [
        "user_registration",
        "listing_search",
        "make_booking"
      ],
      "prelude_roles": [],
      "per_item_roles": [
        "pm",
        "architect",
        "backend_dev",
        "frontend_dev",
        "qa",
        "devops"
      ],
      "final_roles": [],
      "expected_state_fields": [
        "requirements",
        "architecture",
        "backend_code",
        "frontend_code",
        "qa_report",
        "deployment"
      ],
      "forbidden_state_fields": [],
      "expected_artifact_versions": {
        "requirements": 3,
        "architecture": 3,
        "backend_code": 3,
        "frontend_code": 3,
        "qa_report": 3,
        "deployment": 3
      }
    }
  }
}
